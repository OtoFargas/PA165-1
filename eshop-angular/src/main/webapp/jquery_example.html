<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Product AJAX</title>
    <!-- import jQuery from content delivery network -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        function loadProducts() {
            $.ajax({
                type: 'GET',
                url: '/eshop/api/v1/products',
                success: function (data) {
                    var products = data._embedded.productDTOList;
                    for(var i=0;i<products.length;i++) {
                        var p = products[i];
                        $('#products_list').append('<tr><td>'+p.id+'</td><td>'+p.name+'</td><td>'+p.currentPrice.value+' '+p.currentPrice.currency+'</td></tr>');
                    }
                }
            });
        }
    </script>
    <style>
        table.basic { border-collapse: collapse; margin: 10px; }
        table.basic th, table.basic td {  border: solid 1px black; padding: 4px; }

    </style>
</head>
<body>
<h1>JQuery AJAX Example</h1>

<button onclick="loadProducts()">Load all products to table</button>

<table class="basic">
    <caption>Products</caption>
    <thead>
    <tr>
        <th>id</th>
        <th>name</th>
        <th>price</th>
    </tr>
    </thead>
    <tbody id="products_list"></tbody>
</table>

</body>
</html>
